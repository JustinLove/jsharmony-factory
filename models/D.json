{
 "D_BASE": {
  "title":"Document",
  "table":"REPLACE_WITH_LOCAL_EDITABLE_VIEW",
  "actions":"BIUD", 
  "layout":"form", 
  "caption": [ "", "Document", "Documents" ],
  "popup":[900,350],
  "fields":[
	  {"name":"d_id","type":"bigint","key": 1,"datalock":{"c_id":"d_id"},"control":"hidden"},
    {"name":"d_scope_id","type":"bigint","actions":"BI",
     "control": "hidden","default": "js:_GET['d_scope_id']","caption": "","datalock": {"c_id": "d_scope_id"}},
	  {"control":"html","value":"<div style=\"font-size:18px;padding-bottom:12px;\">"},
	  {"name":"title_b","type":"varchar","length":"255","control":"hidden","actions":"","caption":""},
	  {"control":"html","value":"</div>"},
	  {"name":"d_scope","type":"varchar","length":8,"actions":"BI","datalock": {"c_id": "d_scope"},"nl":1,
	   "control":"dropdown_S","controlstyle":"width:95px;",  
     "lov": { "sql":"select codeval, codetxt from jsharmony.ucod_d_scope order by codseq,codetxt", "blank": 1, "nodatalock":["c_id"] },
     "default": "js:_GET['d_scope']","readonly": 1,
     "validate":["Required"],
	   "caption":"Scope","captionstyle":"width:120px;text-align:right;"},
    {"name":"d_ctgr","type":"varchar","length":50,"actions":"BI",
     "lov":{"sql2":"select codeval1 as %%%jsh.map.codeparent%%%, codeval2 as %%%jsh.map.codeval%%%, codetxt as %%%jsh.map.codetxt%%% from jsharmony.gcod2_d_scope_d_ctgr order by codetxt", 
     "blank":1, "parent":"d_scope","nodatalock":["c_id"]},
     "control":"dropdown_L","validate":["Required"],
     "caption":"Type","captionstyle":"width:105px;text-align:right;"},
	  {"name":"c_name_ext","type":"varchar","length":255,"actions":"","control":"hidden","nl":1},
	  {"name":"e_name","type":"varchar","length":255,"actions":"","control":"hidden","nl":1},
	  {"name":"d_desc","type":"varchar","length":255,"actions":"BIU","nl":1,
	   "control":"textarea","controlstyle":"width:608px;height:35px;",
	   "caption":"Description","captionstyle":"width:120px;height:35px;vertical-align:top;padding-top:3px;text-align:right;"},
    {"name": "d_preview","control": "html",
     "value": "<table cellspacing=0 cellpadding=0 border=0 class='D_IMG_viewer_container' style='display:none;'><tr><td valign='top'><div class='xform_caption' style='width:120px;text-align:right;vertical-align:top;padding-top:3px;'>Preview:</div></td><td><img class='D_IMG_viewer' style='max-width:100%;margin-left:auto;margin-right:auto;' /></td></tr></table>",
     "caption": ""},
	  {"name":"d_etstmp","type":"datetime","length":7,"actions":"B","nl":1,
	   "control":"textbox_tstmp",
	   "caption":"Entered"},
    {"name":"d_eu_fmt","type":"varchar","length":20,"actions":"B",
     "sqlselect":"(jsharmony.mycuser_fmt(d_eu))",
     "control":"textbox","controlstyle":"width:158px;","caption":""},
	  {"name":"d_mtstmp","type":"datetime","length":7,"actions":"B","nl":1,
	   "control":"textbox_tstmp",
	   "caption":"Last Updated"},
    {"name":"d_mu_fmt","type":"varchar","length":20,"actions":"B",
     "sqlselect":"(jsharmony.mycuser_fmt(d_mu))",
     "control":"textbox","controlstyle":"width:158px;","caption":""},
	  {"name":"d_utstmp","type":"datetime","length":7,"actions":"B","nl":1,
	   "control":"textbox_tstmp",
	   "caption":"Uploaded"},
    {"name": "d_uu","type":"varchar","length": 20,"actions":""},
    {"name":"d_uu_fmt","type":"varchar","length":20,"actions":"B",
     "sqlselect":"(jsharmony.mycuser_fmt(d_uu))",
     "control":"textbox","controlstyle":"width:158px;","caption":""},
	  {"name":"d_ext","type":"varchar","length":16,"actions":"B",
	   "control":"label_VS",
	   "caption":"Extension","captionstyle":"width:72px;text-align:right;"},
	  {"name":"d_size","type":"bigint","actions":"B",
	   "control":"label_S",
	   "caption":"Bytes"},
    {"name":"d_filename", "sqlselect":"jsharmony.d_filename(d_id, d_ext)",
     "type":"varchar","length":67,"actions":"B","control":"hidden"},
    {"name":"d_file","type":"file","actions":"BIU","nl":1,
     "control":"file_upload","caption":"Document",
     "controlparams": { 
         "sqlparams": {"FILE_SIZE": "d_size",
                       "FILE_EXT": "d_ext",
                       "FILE_UTSTMP": "d_utstmp",
                       "FILE_UU": "d_uu",
                       "FILE_NAME": "d_filename"
         },
     "download_button": "Download Document",
     "upload_button": "Upload New File",
     "delete_button": "Delete File",
     "data_folder": "D"
       },
      "validate": [ "Required" ]}
	],
	    "dberrors": [
    [ "Record not found", "You have no access to the document." ]
  ]
 },	
 "D": {
  "inherits":"D_BASE"
 },
  "DB": {
    "inherits": "D",
    "actions":"B"  
  }
}