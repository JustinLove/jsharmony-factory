{
 "D_BASE": {
  "title":"Document",
  "table":"jsharmony.D",
  "access":"BIUD", 
  "layout":"form", 
  "caption": [ "", "Document", "Documents" ],
  "popup":[900,350],
  "fields":[
	  {"name":"d_id","type":"bigint","key": 1,"datalock":{"C_ID":"client_D_ID"}},
      {"name":"d_scope_id","type":"bigint","access":"I",
       "control": "hidden","default": "js:_GET['d_scope_id']","caption": "","datalock": {"C_ID": "client_D_SCOPE_ID"}},
	  {"control":"html","value":"<div style=\"font-size:18px;padding-bottom:12px;\">"},
	  {"name":"title_b","type":"varchar","length":"255","control":"hidden","access":"","caption":""},
	  {"control":"html","value":"</div>"},
	  {"name":"d_scope","type":"varchar","length":8,"access":"BI","datalock": {"C_ID": "client_D_SCOPE"},"nl":1,
	   "control":"dropdown_S","controlstyle":"width:95px;",  
       "lov": { "sql":"select CODEVal, CODETxt from jsharmony.ucod_d_scope order by codseq,codetxt", "blank": 1, "nodatalock":["C_ID"] },
       "default": "js:_GET['d_scope']","readonly": 1,
       "validate":["Required"],
	   "caption":"Scope","captionstyle":"width:120px;text-align:right;"},
      {"name":"d_ctgr","type":"varchar","length":50,"access":"BI",
       "lov":{"sql2":"select codeval1 as CODEParent, codeval2 as CODEVal, codetxt as CODETxt from jsharmony.GCOD2_D_SCOPE_D_CTGR order by CODETxt", 
       "blank":1, "parent":"d_scope","nodatalock":["C_ID"]},
       "control":"dropdown_L","validate":["Required"],
       "caption":"Type","captionstyle":"width:105px;;text-align:right;"},
	  {"name":"c_name_ext","type":"varchar","length":255,"access":"","control":"hidden","nl":1},
	  {"name":"e_name","type":"varchar","length":255,"access":"","control":"hidden","nl":1},
	  {"name":"d_desc","type":"varchar","length":255,"access":"BIU","nl":1,
	   "control":"textarea","controlstyle":"width:608px;height:35px;",
	   "caption":"Description","captionstyle":"width:120px;height:35px;vertical-align:top;padding-top:3px;text-align:right;"},

      {"name": "d_preview","control": "html",
       "value": "<img id='D_IMG_viewer' style='max-width:100%;display:none;' />",
       "caption": ""},

	  {"name":"d_etstmp","type":"datetime","length":7,"access":"B","nl":1,
	   "control":"textbox_tstmp",
	   "caption":"Entered"},
      {"name":"d_eu_fmt","type":"varchar","length":20,"access":"B",
       "sqlselect":"(jsharmony.mycuser_fmt(d_eu))",
       "control":"textbox","controlstyle":"width:158px;","caption":""},
	  {"name":"d_mtstmp","type":"datetime","length":7,"access":"B","nl":1,
	   "control":"textbox_tstmp",
	   "caption":"Last Updated"},
      {"name":"d_mu_fmt","type":"varchar","length":20,"access":"B",
       "sqlselect":"(jsharmony.mycuser_fmt(d_mu))",
       "control":"textbox","controlstyle":"width:158px;","caption":""},
	  {"name":"d_utstmp","type":"datetime","length":7,"access":"B","nl":1,
	   "control":"textbox_tstmp",
	   "caption":"Uploaded"},
      {"name": "d_uu","type":"varchar","length": 20},
      {"name":"d_uu_fmt","type":"varchar","length":20,"access":"B",
       "sqlselect":"(jsharmony.mycuser_fmt(d_uu))",
       "control":"textbox","controlstyle":"width:158px;","caption":""},
	  {"name":"d_ext","type":"varchar","length":16,"access":"B",
	   "control":"label_VS",
	   "caption":"Extension","captionstyle":"width:72px;text-align:right;"},
	  {"name":"d_size","type":"bigint","access":"B",
	   "control":"label_S",
	   "caption":"Bytes"},
    {"name":"d_file","type":"file","access":"BIU","nl":1,
       "control":"file_upload","caption":"Document",
       "controlparams": { 
         "sqlparams": {"FILE_SIZE": "d_size",
                       "FILE_EXT": "d_ext",
                       "FILE_UTSTMP": "d_utstmp",
                       "FILE_UU": "d_uu",
                       "FILE_NAME": "d_filename"
         },
         "download_button": "Download Document",
         "upload_button": "Upload New File",
         "delete_button": "Delete File",
         "data_folder": "D"
       },
      "validate": [ "Required" ]}
	],
	    "dberrors": [
    [ "Record not found", "Information cannot be accessed because of payment status" ]
  ]
 },	
 "D": {
  "inherits":"D_BASE"
 },
  "DB": {
    "inherits": "D",
    "access":"B"  
  }
}