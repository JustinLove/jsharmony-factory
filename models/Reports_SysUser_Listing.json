{
  "Reports/SysUser_Listing": {
    "comment":"SysUser_Listing",
    "source_files_prefix":"Reports_SysUser_Listing",
    "layout": "report",
    "title": "User Listing",
    "inherits": "Reports/TMPL_DEFAULT",
    "actions": "BU",
    "roles": {"RPT":"B"},
    "menu":"reports",
    "description": "User Listing",
    "pagesettings":  {"orientation": "portrait"},
    "fields": [
      {"name":"sys_user_sts","type":"varchar","nl":1,"control":"dropdown_S","actions": "B",
      "lov": { "sql": "select code_val,code_txt from {schema}.code_ahc where 1=1 %%%DATALOCKS%%% order by code_seq", 
                "datalock":{"cust_id":"cust_id"}, "blank": "(All)" },
      "caption":"User Status","captionstyle": "width:90px;"},

      {"nl": 1,"control":"button","value":"Run Report","controlstyle": "padding:3px 8px;margin-top:15px;margin-left:94px;",
        "onclick": "jsh.XPage.RunReport();"}
    ],
    "onload": "if(xmodel.controller.form.Data.INV_ID){ jsh.XPage.XDisable(jsh.$root('.INV_ID.xelem'+xmodel.class)); }",
    "pageheader" : ["<h3 style=\"font-size:12px;margin-top:0;padding-top:0;text-align:center;\">User Listing",
                    "<div style='float:left;width:30%;text-align:left;'><%=data.HOUSE[0].HOUSE_NAME%></div>",
                    "<div style='float:right;width:30%;text-align:right;'><%=moment().format('MM/DD/YYYY hh:mma')%></div>",
                    "<br/><hr width=\"100%\" />",
                    "<div style=\"float:left;width:60%;text-align:left;\"><%=data.HOUSE[0].HOUSE_BPHONE%> &nbsp; &nbsp; <%=data.HOUSE[0].HOUSE_FAX%> &nbsp; &nbsp; <%=data.HOUSE[0].HOUSE_EMAIL%></div>",
                    "<div style='float:right;width:40%;text-align:right;'><%=data.HOUSE[0].HOUSE_FULL_ADDR%></div></h3>"
                    ],
    "headerheight": "1.7cm",
    "pagefooter" : ["<hr/><h3 align='center' style=\"font-size:12px;\"><div style='float:left;'>001 USERS</div>              <div style='float:right;'> Page <%-pageNum%> / <%-numPages%></div></h3>"],
    "reportdata" : {
      "params":{
        "sql":["select coalesce(code_txt,'(All)') sys_user_sts_txt ",
              "  from {schema}.single ",
              "  left outer join {schema}.code_ahc on code_val = @sys_user_sts"], "nodatalock": ["cust_id"] 
      },
      "users":{
        "sql":["select sys_user_id, sys_user_sts, sys_user_fname, sys_user_mname, sys_user_lname, sys_user_jobtitle, sys_user_email, ",
              "       sys_user_bphone, sys_user_cphone ",
              "  from {schema}.sys_user ",
              " where sys_user_sts = coalesce(@sys_user_sts,sys_user_sts) ",
              " order by sys_user_lname, sys_user_fname "], "nodatalock": ["cust_id"] 
      },
      "HOUSE": { "sql": ["select app_title \"HOUSE_NAME\",coalesce('Phone:  '%%%str_concat%%%app_bphone,'') \"HOUSE_BPHONE\",coalesce('Fax:  '%%%str_concat%%%app_fax,'') \"HOUSE_FAX\",coalesce('Email:  '%%%str_concat%%%app_email,'') \"HOUSE_EMAIL\", ",
                        " app_full_addr \"HOUSE_FULL_ADDR\" from {schema}.v_app_info"], "nodatalock": ["cust_id"] }
    }
  }
}