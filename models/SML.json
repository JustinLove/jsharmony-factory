{
  "X_SML": {
    "title":"Menu Items",
    "dev":1,
    "table":"jsharmony.sm",
    "actions":"BIUD", 
    "caption":[0,"Menu Item","Menu Items"],
    "layout":"grid", 
    "sort":[{"sm_utype":"desc"},{"sm_id_parent":"asc"},{"sm_seq":"asc"},{"sm_name":"asc"}], 
    "buttons": [{"link":"X_SMLW&", "icon": "design", "text": "Tree View", "actions": "B" }],
    "menu":"X_SMLW",
    "reselectafteredit": "row",    "comment1":"row, or blank",
    "newrowposition": "first",      "comment2":"first or last",
    "commitlevel": "row",          "comment3":"cell, row, page, or none",
    "validationlevel": "row",     "comment4":"cell, or row",
    "fields":[
      {"name":"sm_id_auto","type":"bigint","key":1,"control":"hidden"},
      {"name":"sm_utype","type":"char","length":1,"actions": "BIU","control":"textbox_VS",
       "validate":["Required","RegEx:'/S|C/','be one of the following S-System, C-Customer'"],
       "controlstyle":"width:10px;","default":"S",
       "caption":"T","caption_ext":"User Type","captionstyle":"text-align:center;"},
      {"name":"sm_id","type":"bigint","actions": "BIU","control": "textbox_VS",
       "validate":["Required","IsNumeric:true","IsDecimal:0","MinValue:0"],"controlstyle": "text-align:right;width:60px;",
       "caption":"ID #","captionstyle": "text-align:right;"},
      {"name":"sm_id_parent","type":"bigint","actions": "BIU","control": "textbox_VS",
       "validate":["IsNumeric:true","IsDecimal:0","MinValue:0"],"controlstyle": "text-align:right;width:60px;",
       "sqlsort":"(coalesce(sm_id_parent,0))",
       "caption":"Parent ID #","captionstyle": "text-align:right;"},
      {"name":"sm_seq","type":"int","actions": "BIU","control": "textbox_VS",
       "validate":["IsNumeric:true","IsDecimal:0","MinValue:0"],"controlstyle": "text-align:right;",
       "sqlsort":"(coalesce(coalesce(sm_seq,sm_id),0))",
       "caption":"Seq","captionstyle": "text-align:right;"},
      {"name":"sm_name","type":"varchar","length":30,"actions": "BIU","control": "textbox_M",
       "validate":["Required"],"caption":"Menu ID"},
      {"name":"sm_desc","type":"varchar","length":"255","actions":"BIU","control": "textbox_M",
       "validate":["Required"],"caption":"Display Name"},
      {"name":"sm_cmd","type":"varchar","length":255,"actions": "BIU","control": "textbox_M","caption":"Model / Command",
       "popuplov": {
          "target":  "X_MODELS", "codeval": "model_id", "popupstyle": "height:400px;width:770px;",
          "onpopup": "jsh.App[popupmodelid].ShowUserModels(popupmodelid, parentmodelid, fieldid, onComplete);"
        }
       },
      {"name":"sm_subcmd","type":"varchar","length":"255","actions":"BIU","control": "textbox_S",
       "caption":"Querystring / Anchor"},
      {"name":"sm_sts","type":"varchar","length":8,"actions": "BIU","control": "dropdown_S",
       "lov": {"sql":"select codeval, codetxt from jsharmony.ucod_ahc order by codseq,codetxt"},"validate":["Required"],"default":"ACTIVE",
       "controlstyle":"width:70px;","caption":"Status"},
      {"name":"privs","control": "html","disable_sort":"1","disable_search":1,"disable_search_all":1,
       "value": ["<a href='<%=((data['sm_utype']=='S')?'X_SRMSELR_HW':'X_CRMSELR_HW')%>?action=update&amp;sm_id=<%=data['sm_id']%>'",
                 " class=\"privs_link xform_ctrl xelemX_SML xform_label uneditable\"",
                 " onclick=\"window.open(<%=instance%>.$(this).attr('href'),'_blank','width=1200,height=700,resizable=1,scrollbars=1');return false;\"",
                 "><%-((data['sm_id_auto'])?'<img src=\"/images/icon_update.png\" class=\"xicon\">':'')%></a>"],
       "caption": "Privileges"}
    ],
    "dberrors": [
      [ "UNQ_SM_SM_ID", "Duplicate ID" ],
      [ "sm_sm_id_key", "Duplicate ID" ],
      [ "UNQ_SM_SM_NAME", "Duplicate Name" ],
      [ "sm_sm_name_key", "Duplicate Menu ID" ],
      [ "UNQ_SM_SM_DESC", "Duplicate Description within Parent" ],
      [ "sm_sm_id_parent_sm_desc_key", "Duplicate Description within Parent" ],
      [ "FK_SM_SM", "Parent ID consistency error" ],
      [ "sm_sm_id_parent_fkey", "Parent ID consistency error" ],
      [ "CK_SM_SM_UTYPE", "User Type values: S-System, C-Customer" ],
      [ "FK_SRM_SM", "This ID is used in SRM - cannot be modified or deleted" ]
    ]
  }
}