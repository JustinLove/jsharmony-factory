{
  "UCOD_HL": {
	"title":"System 1-Dimensional Code Tables",
    "dev":1,
	"table":"jsharmony.UCOD_H",
	"actions":"B", 
    "layout":"grid", 
	"caption":[0,"System Code Table","System Code Tables"],
    "roles": {"X_B":"B","DADMIN":"*"},
    "sort":["^codename","^codeschema"], 
	"menu":"DEV_X_UCOD_HL",
    "reselectafteredit": "row",    "comment1":"row, or blank",
    "newrowposition": "first",      "comment2":"first or last",
    "commitlevel": "row",          "comment3":"cell, row, page, or none",
    "validationlevel": "row",     "comment4":"cell, or row",
	"fields":[
      {"name":"ucod_h_id","type":"bigint","key":1,"control":"hidden"},
      {"name":"click","type":"varchar","length":"128","validate":["Required"],
       "sqlselect":"(case jsharmony.table_type(codeschema,concat('ucod_',codename)) when 'BASE TABLE' then 'U' else NULL end)",
       "caption":"","actions":"B","control": "html","cellstyle": "text-align:center;",
       "value": "<a href='/UCODL?codename=<#=data[j]['codename']#>&codeschema=<#=data[j]['codeschema']#>'><#=data[j]['click']#></a>"},
      {"name":"codeschema","type":"varchar","length":"16","actions":"B","caption":"Schema"},
      {"name":"codename","type":"varchar","length":"16","validate":["Required"],
       "caption":"Code Table Name","actions":"B","controlstyle":"width:120px;","control": "html",
       "value": "<a href='/UCODL?codename=<#=data[j]['codename']#>&codeschema=<#=data[j]['codeschema']#>'><#=data[j]['codename']#></a>"},
      {"name":"codemean","type":"varchar","length":"128","validate":["Required"],
       "caption":"Table Description","actions":"B","controlstyle":"width:260px;","control": "html",
       "value": "<a href='/UCODL?codename=<#=data[j]['codename']#>&codeschema=<#=data[j]['codeschema']#>'><#=data[j]['codemean']#></a>"},
      {"name":"codecodemean","type":"varchar","length":"128",
       "caption":"Code","actions":"B","controlstyle":"width:160px;"},
      {"name":"codeattribmean","type":"varchar","length":"128",
       "caption":"Attribute","actions":"B","controlstyle":"width:160px;"},
      {"name":"my_create","type":"varchar","length":"128","cellstyle":"text-align:center;",
       "sqlselect":"(case jsharmony.table_type(codeschema,concat('ucod_',codename)) when 'BASE TABLE' then NULL else 'CREATE' end)",
       "link":"edit:POPUP_EXEC_CREATE_UCOD&codeschema=codeschema&codename=codename&codemean=codemean",
       "caption":"Create Table","actions":""},
      {"name":"click2","type":"varchar","length":"128","validate":["Required"],
       "sqlselect":"(case jsharmony.table_type(codeschema,concat('ucod_',codename)) when 'BASE TABLE' then 'U' else NULL end)",
       "caption":"Edit Codes","actions":"B","control": "html","cellstyle": "text-align:center;",
       "value": "<a href='/UCODL?codename=<#=data[j]['codename']#>&codeschema=<#=data[j]['codeschema']#>'><# if(data[j]['click2']){ #><img src='/images/icon_edit.png' height='14' style='position:relative;top:2px;' /><# } #></a>"}
	],
    "dberrors": [
      [ "UNQ_UCOD_H", "Duplicate Key (Schema + Code Table name)" ],
      [ "ucod_h_codeschema_codename_key", "Duplicate Key (Schema + Code Table name)" ],
      [ "ucod_h_coalesce_codename_idx", "Duplicate Key (Schema + Code Table name)" ]
    ]  
  },    
  "X_UCOD_HL": {
    "inherits":"UCOD_HL",
    "dev":1,
    "actions":"BIUD",
    "fields":[
      {"name":"codeschema","actions": "BI","control": "textbox"},
      {"name":"codename","actions": "BI","control": "textbox"},
      {"name":"codemean","actions": "BIU","control": "textbox"},
      {"name":"codecodemean","actions": "BIU","control": "textbox"},
      {"name":"codeattribmean","actions": "BIU","control": "textbox"},
      {"name":"my_create","actions": "B"}
    ],
    "dberrors": [
      [ "UNQ_UCOD_H", "Duplicate Key (Schema + Code Table name)" ],
      [ "ucod_h_codeschema_codename_key", "Duplicate Key (Schema + Code Table Name)" ],
      [ "ucod_h_coalesce_codename_idx", "Duplicate Key (Schema + Code Table name)" ]
    ]
  },
  "CREATE_UCOD": {
      "layout": "exec",
      "title": "Create UCOD",
      "actions": "U",
      //ADD ROLES
      "sqlexec": "select jsharmony.create_ucod(@codeschema, @codename, @codemean);", 
      "sqlexec_comment":"Be sure to add %%%DATALOCKS%%% if applicable",
      "popup":[450,250],
      "fields": [
        {"name":"codeschema","type":"varchar","length":"16","actions":"U","control":"hidden"},
        {"name":"codename","type":"varchar","length":"16","actions":"U","control":"hidden"},
        {"name":"codemean","type":"varchar","length":"128","actions":"U","control":"hidden"}
      ]
  }
}