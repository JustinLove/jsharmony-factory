{
  "menu_main": [
    "select distinct SM.sm_name,SM.sm_desc,",
    "  case when ((SM.sm_cmd is null) or (SM.sm_cmd = '')) then (",
    "    /*Get first child if parent sm_cmd is blank*/",
    "    select SMSUB.sm_cmd from {schema}.SM SMSUB ",
    "      inner join {schema}.SRM on SRM.sm_id=SMSUB.sm_id inner join {schema}.SR on SR.sr_name = SRM.sr_name inner join {schema}.SPER on SPER.sr_name = SR.sr_name and SPER.pe_id=@pe_id",
    "      where SMSUB.sm_id_parent = SM.sm_id and (SMSUB.sm_cmd is not null) and (SMSUB.sm_cmd <> '')",
    "      order by coalesce(SMSUB.sm_seq,SMSUB.sm_id),sm_name,SMSUB.sm_id",
    "      limit 1",
    "  ) else SM.sm_cmd end as sm_cmd,",
    "  SM.sm_subcmd,coalesce(SM.sm_seq,SM.sm_id) sm_seq,SM.sm_id from {schema}.SM",
    "  inner join {schema}.SRM on SRM.sm_id=SM.sm_id inner join {schema}.SR on SR.sr_name = SRM.sr_name inner join {schema}.SPER on SPER.sr_name = SR.sr_name and SPER.pe_id=@pe_id",
    "  where sm_id_parent = (select sm_id from {schema}.SM where sm_name=@root_menu)",
    "  order by coalesce(SM.sm_seq,SM.sm_id),sm_name,SM.sm_id;",
    "select distinct SM.sm_name,SM.sm_desc,SM.sm_cmd,SM.sm_subcmd,coalesce(SM.sm_seq,SM.sm_id) sm_seq,SM.sm_id,SM_Parent.sm_name sm_parent_name",
    "  from {schema}.SM",
    "  inner join {schema}.SRM on SRM.sm_id=SM.sm_id inner join {schema}.SR on SR.sr_name = SRM.sr_name inner join {schema}.SPER on SPER.sr_name = SR.sr_name and SPER.pe_id=@pe_id",
    "  inner join {schema}.SM SM_Parent on SM_Parent.sm_id = SM.sm_id_parent",
    "  where SM_Parent.sm_id_parent = (select sm_id from {schema}.SM where sm_name=@root_menu)",
    "  order by SM_Parent.sm_name,coalesce(SM.sm_seq,SM.sm_id),SM.sm_name,SM.sm_id;"
  ],
  "menu_client": [
    "select distinct SM.sm_name,SM.sm_desc,",
    "  case when ((SM.sm_cmd is null) or (SM.sm_cmd = '')) then (",
    "    /*Get first child if parent sm_cmd is blank*/",
    "    select SMSUB.sm_cmd from {schema}.SM SMSUB ",
    "      inner join {schema}.CRM on CRM.sm_id=SMSUB.sm_id inner join {schema}.CR on CR.cr_name = CRM.cr_name inner join {schema}.CPER on CPER.cr_name = CR.cr_name and CPER.pe_id=@pe_id",
    "      where SMSUB.sm_id_parent = SM.sm_id and (SMSUB.sm_cmd is not null) and (SMSUB.sm_cmd <> '')",
    "      order by coalesce(SMSUB.sm_seq,SMSUB.sm_id),sm_name,SMSUB.sm_id",
    "      limit 1",
    "  ) else SM.sm_cmd end as sm_cmd,",
    "  SM.sm_subcmd,coalesce(SM.sm_seq,SM.sm_id) sm_seq,SM.sm_id from {schema}.SM",
    "  inner join {schema}.CRM on CRM.sm_id=SM.sm_id inner join {schema}.CR on CR.cr_name = CRM.cr_name inner join {schema}.CPER on CPER.cr_name = CR.cr_name and CPER.pe_id=@pe_id",
    "  where sm_id_parent = (select sm_id from {schema}.SM where sm_name=@root_menu)",
    "  order by coalesce(SM.sm_seq,SM.sm_id),sm_name,SM.sm_id;",
    "select distinct SM.sm_name,SM.sm_desc,SM.sm_cmd,SM.sm_subcmd,coalesce(SM.sm_seq,SM.sm_id) sm_seq,SM.sm_id,SM_Parent.sm_name sm_parent_name from {schema}.SM",
    "  inner join {schema}.CRM on CRM.sm_id=SM.sm_id inner join {schema}.CR on CR.cr_name = CRM.cr_name inner join {schema}.CPER on CPER.cr_name = CR.cr_name and CPER.pe_id=@pe_id",
    "  inner join {schema}.SM SM_Parent on SM_Parent.sm_id = SM.sm_id_parent",
    "  where SM_Parent.sm_id_parent = (select sm_id from {schema}.SM where sm_name=@root_menu)",
    "  order by SM_Parent.sm_name,coalesce(SM.sm_seq,SM.sm_id),SM.sm_name,SM.sm_id;"
  ],
  "menu_main_noauth": [
    "select distinct SM.sm_name,SM.sm_desc,",
    "  case when ((SM.sm_cmd is null) or (SM.sm_cmd = '')) then (",
    "    /*Get first child if parent sm_cmd is blank*/",
    "    select SMSUB.sm_cmd from {schema}.SM SMSUB ",
    "      where SMSUB.sm_id_parent = SM.sm_id and (SMSUB.sm_cmd is not null) and (SMSUB.sm_cmd <> '')",
    "      order by coalesce(SMSUB.sm_seq,SMSUB.sm_id),sm_name,SMSUB.sm_id",
    "      limit 1",
    "  ) else SM.sm_cmd end as sm_cmd,",
    "  SM.sm_subcmd,coalesce(SM.sm_seq,SM.sm_id) sm_seq,SM.sm_id from {schema}.SM",
    "  where sm_id_parent = (select sm_id from {schema}.SM where sm_name=@root_menu)",
    "  order by coalesce(SM.sm_seq,SM.sm_id),sm_name,SM.sm_id;",
    "select distinct SM.sm_name,SM.sm_desc,SM.sm_cmd,SM.sm_subcmd,coalesce(SM.sm_seq,SM.sm_id) sm_seq,SM.sm_id,SM_Parent.sm_name sm_parent_name",
    "  from {schema}.SM",
    "  inner join {schema}.SM SM_Parent on SM_Parent.sm_id = SM.sm_id_parent",
    "  where SM_Parent.sm_id_parent = (select sm_id from {schema}.SM where sm_name=@root_menu)",
    "  order by SM_Parent.sm_name,coalesce(SM.sm_seq,SM.sm_id),SM.sm_name,SM.sm_id;"
  ]
}
