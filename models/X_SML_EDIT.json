{
  "X_SML_EDIT": {
    "title":"",
    "dev":1,
    "table":"jsharmony.sm",
    "actions":"BU", 
    "caption":[0,"Menu Item","Menu Items"],
    "formstyle": "height:375px;",
    "layout":"form", 
    "menu":"dev",
    "fields":[
      {"name":"sm_id_auto","type":"bigint","key":1,"control":"hidden"},
      {"name":"sm_name","type":"varchar","length":30,"actions": "BIU","control": "textbox_M",
       "validate":["Required"],"caption":"Menu ID","captionstyle": "text-align:right;width:120px;"},
      {"name":"sm_desc","type":"varchar","length":"255","actions":"BIU","control": "textbox_M","nl":1,
       "validate":["Required"],"caption":"Display Name"},
      {"name":"sm_cmd","type":"varchar","length":255,"actions": "BIU","control": "textbox_M","caption":"Model / Command","nl":1,
       "popuplov": {
          "target":  "X_MODELS", "codeval": "model_id", "popupstyle": "height:400px;width:770px;",
          "onpopup": "jsh.App.X_MODELS.ShowUserModels(popupmodelid, parentmodelid, fieldid, onComplete);",
          "popupiconstyle":"position:relative;top:5px;"
        }
       },
      {"name":"sm_seq","type":"int","actions": "BIU","control": "textbox_VS","nl":1,
       "validate":["IsNumeric:true","IsDecimal:0","MinValue:0"],"controlstyle": "text-align:right;",
       "sqlsort":"(coalesce(coalesce(sm_seq,sm_id),0))",
       "caption":"Sequence #"},
      {"name":"sm_sts","type":"varchar","length":8,"actions": "BIU","control": "dropdown_S","nl":1,
       "lov": {"sql":"select CODEVal, CODETxt from jsharmony.ucod_ahc order by codseq,codetxt"},"validate":["Required"],"default":"ACTIVE",
       "controlstyle":"width:70px;","caption":"Status"},
      {"name":"privs","actions":"B","control": "label","nl":1,"caption":"Privileges",
        "value": ["<a href='<#=((data['sm_utype']=='S')?'X_SRMSELR_HW':'X_CRMSELR_HW')#>?action=edit&amp;sm_id=<#=data['sm_id']#>'",
                  " class=\"privs_link xform_ctrl xelemX_SML xform_label uneditable\"",
                  " onclick=\"window.open(<#=instance#>.$(this).attr('href'),'_blank','width=1200,height=700,resizable=1,scrollbars=1');return false;\"",
                  "><#-((data['sm_id_auto'])?'<img src=\"/images/icon_edit.png\" class=\"xicon\">':'')#></a>"]
      },
      {"name":"sm_utype","type":"char","length":1,"control":"hidden"},
      {"name":"sm_id","type":"bigint","control":"hidden"},
      {"name":"sm_id_parent","type":"bigint","control":"hidden"},



      //{"control":"html","value":"<div style='padding-top:20px;padding-bottom:3px;font-weight:bold;width:120px;text-align:right;'>Menu Layout</div>"  },

      //{"name":"sm_utype","type":"char","length":1,"actions": "BIU","control":"dropdown","captionstyle": "text-align:right;width:120px;",
      // "validate":["Required","RegEx:'/S|C/','be one of the following S-System, C-Customer'"],
      // "lov": { "sql": "SM_UTYPE_LOV" },
      // "controlstyle":"width:80px;","default":"S",
      // "caption":"Menu Type","caption_ext":"User Type"},
      //{"name":"sm_id","type":"bigint","actions": "BIU","control": "textbox_VS","nl":1,
      // "validate":["Required","IsNumeric:true","IsDecimal:0","MinValue:0"],"controlstyle": "text-align:right;width:60px;",
      // "caption":"Item ID #","captionstyle": "text-align:right;width:120px;"},
      //{"name":"sm_id_parent","type":"bigint","actions": "BIU","control": "textbox_VS","nl":1,
      // "validate":["IsNumeric:true","IsDecimal:0","MinValue:0"],"controlstyle": "text-align:right;width:60px;",
      // "sqlsort":"(coalesce(sm_id_parent,0))",
      // "caption":"Parent ID #"},

       {"control":"html","value":"<div style='padding-bottom:10px;'></div>" }
    ],
    "dberrors": [
      [ "UNQ_SM_SM_ID", "Duplicate ID" ],
      [ "sm_sm_id_key", "Duplicate ID" ],
      [ "UNQ_SM_SM_NAME", "Duplicate Name" ],
      [ "sm_sm_name_key", "Duplicate Name" ],
      [ "UNQ_SM_SM_DESC", "Duplicate Description within Parent" ],
      [ "sm_sm_id_parent_sm_desc_key", "Duplicate Description within Parent" ],
      [ "FK_SM_SM", "Non Existing Parent" ],
      [ "sm_sm_id_parent_fkey", "Non Existing Parent" ],
      [ "CK_SM_SM_UTYPE", "User Type values: S-System, C-Customer" ],
      [ "FK_SRM_SM", "This ID is used in SRM - cannot be modified or deleted" ]
    ]
  }
}